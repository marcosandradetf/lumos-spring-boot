<div class="flex mt-[3rem] h-fit" #top>
  <div class="w-full">
    <div class="pt-2 border-b w-full pl-2 flex items-center justify-between">
      <div class="breadcrumbs text-sm">
        <ul class="select-none">
          <li><a href="/">Início</a></li>
          <li><a href="/pre-medicao/validando">Pré-medição</a></li>
          <li>Relatório</li>
        </ul>
      </div>
      <h3 class="text-medium pr-5 hidden lg:block">{{ preMeasurement.city }}</h3>
    </div>

    <div class="border-b w-full pl-2 p-2 flex flex-col justify-center">
      <h2 class="mb-4 text-center">
        Pré-medição de {{ preMeasurement.city }}
      </h2>
      <div #content class="report">
        <table>
          <thead>
          <tr class="report-header">
            <th></th>
            <th>ENDEREÇO</th>
            <th>POTÊNCIA ATUAL</th>
            <th *ngIf="condition('cabo')">CABO</th>
            <th *ngIf="condition('1')">BRAÇOS de 1,5</th>
            <th *ngIf="condition('2')">BRAÇOS de 2,5</th>
            <th *ngIf="condition('3')">BRAÇOS de 3,5</th>
            <th *ngIf="condition('60')">LED 60W</th>
            <th *ngIf="condition('70')">LED 70W</th>
            <th *ngIf="condition('100')">LED 100W</th>
            <th *ngIf="condition('120')">LED 120W</th>
            <th *ngIf="condition('150')">LED 150W</th>
            <th *ngIf="condition('braço')">TROCA DE PONTO</th>
            <th *ngIf="condition('cinta')">CINTAS</th>
            <th *ngIf="condition('parafuso')">PARAF. E ARRUELAS</th>
            <th *ngIf="condition('conector')">PERFUR.</th>
            <th *ngIf="condition('relé')">RELÉ</th>
            <th *ngIf="condition('led')">PROJETO</th>
            <th *ngIf="condition('led')">SERVIÇO</th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let s of preMeasurement.streets">
            <td>1</td>
            <td>{{ s.address }}</td>
            <td>{{ s.lastPower }}</td>
            <td *ngIf="condition('cabo')">{{ getItem('cabo', s) }}</td>
            <td *ngIf="condition('1')">{{ getItem('1', s) }}</td>
            <td *ngIf="condition('2')">{{ getItem('2', s) }}</td>
            <td *ngIf="condition('3')">{{ getItem('3', s) }}</td>
            <td *ngIf="condition('60')">{{ getItem('60', s) }}</td>
            <td *ngIf="condition('70')">{{ getItem('70', s) }}</td>
            <td *ngIf="condition('100')">{{ getItem('100', s) }}</td>
            <td *ngIf="condition('120')">{{ getItem('120', s) }}</td>
            <td *ngIf="condition('150')">{{ getItem('150', s) }}</td>
            <td *ngIf="condition('braço')">{{ getItem('braço', s) }}</td>
            <td *ngIf="condition('cinta')">{{ getItem('cinta', s) }}</td>
            <td *ngIf="condition('parafuso')">{{ getItem('parafuso', s) }}</td>
            <td *ngIf="condition('conector')">{{ getItem('conector', s) }}</td>
            <td *ngIf="condition('relé')">{{ getItem('relé', s) }}</td>
            <td *ngIf="condition('led')">{{ getItem('led', s) }}</td>
            <td *ngIf="condition('led')">{{ getItem('led', s) }}</td>
          </tr>
          </tbody>
          <tfoot>
          <tr class="report-total-sum">
            <td></td>
            <td colspan="2">SOMA
              TOTAL:
            </td>
            <td *ngIf="condition('cabo')">0</td>
            <td *ngIf="condition('1')">0</td>
            <td *ngIf="condition('2')">0</td>
            <td *ngIf="condition('3')">0</td>
            <td *ngIf="condition('60')">0</td>
            <td *ngIf="condition('70')">4</td>
            <td *ngIf="condition('100')">0</td>
            <td *ngIf="condition('120')">0</td>
            <td *ngIf="condition('150')">0</td>
            <td *ngIf="condition('braço')">10</td>
            <td *ngIf="condition('cinta')">0</td>
            <td *ngIf="condition('parafuso')">0</td>
            <td *ngIf="condition('conector')">0</td>
            <td *ngIf="condition('relé')">14</td>
            <td *ngIf="condition('led')">14</td>
            <td *ngIf="condition('led')">14</td>
          </tr>
          </tfoot>
        </table>


        <div class="report-total-price">
          <p>Total Geral: R$ {{ preMeasurement.totalPrice.replace(".", ',') }}</p>
        </div>

<!--        <table-->
<!--          style="table-layout: fixed; border-collapse: collapse; margin-left: 50px; border: 2px solid black; margin-top: 20px;">-->
<!--          <tr style="background-color: #400112; color: white;">-->
<!--            <td style="width: 150px; height: 35px">R$</td>-->
<!--            <td>{{ preMeasurement.totalPrice.replace(".", ',') }}</td>-->
<!--          </tr>-->
<!--        </table>-->


      </div>

    </div>

    <div class="border-b w-full p-2 flex justify-center">
      <button (click)="generatePDF(content)" class="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-700">
        Gerar PDF
      </button>
    </div>

  </div>
</div>
