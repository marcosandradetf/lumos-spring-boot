<div class="flex mt-[3rem] h-fit" #top>
  <div class="w-full">
    <div class="pt-2 border-b w-full pl-2 flex items-center justify-between">
      <div class="breadcrumbs text-sm">
        <ul class="select-none">
          <li><a href="/">Início</a></li>
          <li><a>Execuçoes</a></li>
          <li>Pré-medição</li>
        </ul>
      </div>
      <h3 class="text-medium pr-5 hidden lg:block">Selecione uma cidade</h3>
    </div>

    <div class="border-b w-full pl-2 p-2 flex justify-center">

      <div style="padding: 20px; font-family: Calibri, sans-serif; " #content>
        <div style="margin-bottom: 20px;">
          <img ngSrc="/icon-192.png" alt="logo" height="32" width="32" style="position: absolute; margin-left: 50px">
          <h2 style="font-weight: bold; text-align: center;">PRÉ-MEDIÇÃO DE POTÉ</h2>
        </div>


        <table style="table-layout: auto; border-collapse: collapse; border: 1px solid black; font-size: 11px;">
          <thead>
          <tr style="background: #080846; color: white">
            <th style="border-bottom: 1px solid black; padding: 10px;"></th>
            <th style="border-bottom: 1px solid black; padding: 10px;">ENDEREÇO</th>
            <th style="border-bottom: 1px solid black; padding: 5px;">POTÊNCIA ATUAL</th>
            <th style="border-bottom: 1px solid black; padding: 5px;" *ngIf="condition('cabo')">CABO</th>
            <th style="border-bottom: 1px solid black; padding: 5px;" *ngIf="condition('1')">BRAÇOS de 1,5</th>
            <th style="border-bottom: 1px solid black; padding: 5px;" *ngIf="condition('2')">BRAÇOS de 2,5</th>
            <th style="border-bottom: 1px solid black; padding: 5px;" *ngIf="condition('3')">BRAÇOS de 3,5</th>
            <th style="border-bottom: 1px solid black; padding: 5px;" *ngIf="condition('60')">LED 60W</th>
            <th style="border-bottom: 1px solid black; padding: 5px;" *ngIf="condition('70')" >LED 70W</th>
            <th style="border-bottom: 1px solid black; padding: 5px;" *ngIf="condition('100')">LED 100W</th>
            <th style="border-bottom: 1px solid black; padding: 5px;" *ngIf="condition('120')">LED 120W</th>
            <th style="border-bottom: 1px solid black; padding: 5px;" *ngIf="condition('150')">LED 150W</th>
            <th style="border-bottom: 1px solid black; padding: 5px;" *ngIf="condition('braço')">TROCA DE PONTO</th>
            <th style="border-bottom: 1px solid black; padding: 5px;" *ngIf="condition('cinta')">CINTAS</th>
            <th style="border-bottom: 1px solid black; padding: 5px;" *ngIf="condition('parafuso')">PARAF. E ARRUELAS</th>
            <th style="border-bottom: 1px solid black; padding: 5px;" *ngIf="condition('conector')">PERFUR.</th>
            <th style="border-bottom: 1px solid black; padding: 5px;" *ngIf="condition('relé')">RELÉ</th>
            <th style="border: 1px solid black; padding: 5px; background-color: #008cd0; color: white" *ngIf="condition('led')">PROJETO</th>
            <th style="border: 1px solid black; padding: 5px; background-color: #008cd0; color: white" *ngIf="condition('led')">SERVIÇO</th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let s of preMeasurement.streets">
            <td style="border-left: 1px solid black; padding: 5px; text-align: center; font-weight: bold">1</td>
            <td style="border: 1px solid black; padding: 5px;">{{s.address}}</td>
            <td style="border: 1px solid black; padding: 5px;">{{s.lastPower}}</td>
            <td style="border: 1px solid black; padding: 5px;" *ngIf="condition('cabo')">{{ getItem('cabo', s) }}</td>
            <td style="border: 1px solid black; padding: 5px;" *ngIf="condition('1')">{{ getItem('1', s) }}</td>
            <td style="border: 1px solid black; padding: 5px;" *ngIf="condition('2')">{{ getItem('2', s) }}</td>
            <td style="border: 1px solid black; padding: 5px;" *ngIf="condition('3')">{{ getItem('3', s) }}</td>
            <td style="border: 1px solid black; padding: 5px;" *ngIf="condition('60')">{{ getItem('60', s) }}</td>
            <td style="border: 1px solid black; padding: 5px;" *ngIf="condition('70')">{{ getItem('70', s) }}</td>
            <td style="border: 1px solid black; padding: 5px;" *ngIf="condition('100')">{{ getItem('100', s) }}</td>
            <td style="border: 1px solid black; padding: 5px;" *ngIf="condition('120')">{{ getItem('120', s) }}</td>
            <td style="border: 1px solid black; padding: 5px;" *ngIf="condition('150')">{{ getItem('150', s) }}</td>
            <td style="border: 1px solid black; padding: 5px;" *ngIf="condition('braço')">{{ getItem('braço', s) }}</td>
            <td style="border: 1px solid black; padding: 5px;" *ngIf="condition('cinta')">{{ getItem('cinta', s) }}</td>
            <td style="border: 1px solid black; padding: 5px;" *ngIf="condition('parafuso')">{{ getItem('parafuso', s) }}</td>
            <td style="border: 1px solid black; padding: 5px;" *ngIf="condition('conector')">{{ getItem('conector', s) }}</td>
            <td style="border: 1px solid black; padding: 5px;" *ngIf="condition('relé')">{{ getItem('relé', s) }}</td>
            <td style="border: 1px solid black; padding: 5px; background-color: #008cd0; color: white" *ngIf="condition('led')">{{ getItem('led', s) }}</td>
            <td style="border: 1px solid black; padding: 5px; background-color: #008cd0; color: white" *ngIf="condition('led')">{{ getItem('led', s) }}</td>
          </tr>
          </tbody>
          <tfoot>
          <tr style="background: #FFDF23; color: black;">
            <td style="border: 1px solid black; padding: 3px; font-weight: bold; text-align: center" colspan="3">SOMA
              TOTAL:
            </td>
            <td style="border: 1px solid black; padding: 3px;" *ngIf="condition('cabo')">0</td>
            <td style="border: 1px solid black; padding: 3px;" *ngIf="condition('1')">0</td>
            <td style="border: 1px solid black; padding: 3px;" *ngIf="condition('2')">0</td>
            <td style="border: 1px solid black; padding: 3px;" *ngIf="condition('3')">0</td>
            <td style="border: 1px solid black; padding: 3px;" *ngIf="condition('60')">0</td>
            <td style="border: 1px solid black; padding: 3px;" *ngIf="condition('70')">4</td>
            <td style="border: 1px solid black; padding: 3px;" *ngIf="condition('100')">0</td>
            <td style="border: 1px solid black; padding: 3px;" *ngIf="condition('120')">0</td>
            <td style="border: 1px solid black; padding: 3px;" *ngIf="condition('150')">0</td>
            <td style="border: 1px solid black; padding: 3px;" *ngIf="condition('braço')">10</td>
            <td style="border: 1px solid black; padding: 3px;" *ngIf="condition('cinta')">0</td>
            <td style="border: 1px solid black; padding: 3px;" *ngIf="condition('parafuso')">0</td>
            <td style="border: 1px solid black; padding: 3px;" *ngIf="condition('conector')">0</td>
            <td style="border: 1px solid black; padding: 3px;" *ngIf="condition('relé')">14</td>
            <td style="border: 1px solid black; padding: 3px;" *ngIf="condition('led')">14</td>
            <td style="border: 1px solid black; padding: 3px;" *ngIf="condition('led')">14</td>
          </tr>

          </tfoot>
        </table>

        <table
          style="table-layout: fixed; border-collapse: collapse; margin-left: 50px; border: 2px solid black; margin-top: 20px;">
          <tr style="background-color: #400112; color: white;">
            <td style="width: 150px; height: 35px">R$</td>
            <td>{{utils.formatValue(preMeasurement.totalPrice) }}</td>
          </tr>
        </table>


      </div>

    </div>

    <div class="border-b w-full p-2 flex justify-center">
      <button (click)="generatePDF(content)" class="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-700">
        Gerar PDF
      </button>
    </div>

  </div>
</div>
