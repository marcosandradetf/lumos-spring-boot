<section class="h-screen w-full relative overflow-hidden">

  <!-- BACKGROUND IMAGE -->
  <img
    src="/public/lumos-login-bg.png"
    alt="Iluminação pública urbana"
    class="absolute inset-0 w-full h-full object-cover object-center"
  />

  <!-- SOFT OVERLAY -->
  <div class="absolute inset-0 bg-white/10 dark:bg-surface-900/40"></div>

  <!-- CONTENT -->
  <div class="relative z-10 grid lg:grid-cols-2">

    <!-- LEFT / IMAGE TEXT (DESKTOP ONLY) -->
    <div class="hidden lg:flex items-end px-16 pb-20">
      <div class="max-w-xl space-y-4 text-surface-100">

        <h2 class="text-4xl font-semibold leading-tight tracking-tight">
          Gestão inteligente<br />
          para iluminação pública
        </h2>

        <p class="text-lg text-surface-200">
          Modernizando e otimizando a iluminação das cidades.
        </p>

      </div>
    </div>

    <!-- RIGHT / LOGIN -->
    <div class="flex items-center justify-center px-4 h-screen">

      <p-card
        class="w-full max-w-md
               lg:max-w-96
               shadow-xl
               rounded-2xl
               bg-surface-0/90 dark:bg-surface-800/90
               backdrop-blur-md">

        <div class="flex flex-col gap-8 px-6 ">

          <!-- BRAND -->
          <div class="flex flex-col items-center gap-3 text-center">
            <img ngSrc="/public/icon-192.png"
                 width="48"
                 height="48"
                 alt="Lumos"/>

            <h1 class="text-2xl font-semibold tracking-tight">
              Lumos<span class="text-primary">™</span>
            </h1>

            <p class="text-sm text-surface-500 max-w-xs">
              Gestão operacional em iluminação pública
            </p>
          </div>

          <!-- FORM -->
          <form #form="ngForm"
                (ngSubmit)="login(form)"
                class="flex flex-col gap-6">

            <div class="flex flex-col gap-1.5">
              <label class="text-xs font-medium text-surface-500">
                Usuário ou CPF
              </label>

              <input pInputText
                     name="username"
                     [(ngModel)]="username"
                     required
                     class="w-full rounded-xl
                            bg-surface-100 dark:bg-surface-700
                            border border-surface-200 dark:border-surface-600
                            focus:ring-2 focus:ring-primary/30"/>
            </div>

            <div class="flex flex-col gap-1.5">
              <label class="text-xs font-medium text-surface-500">
                Senha
              </label>

              <p-password
                name="password"
                [(ngModel)]="password"
                required
                [toggleMask]="true"
                [feedback]="false"
                fluid
                inputStyleClass="w-full rounded-xl
                                 bg-surface-100 dark:bg-surface-700
                                 border border-surface-200 dark:border-surface-600
                                 focus:ring-2 focus:ring-primary/30">
              </p-password>
            </div>

            <p-message *ngIf="authError"
                       severity="error"
                       text="{{ authError }}">
            </p-message>

            <p-button
              label="Entrar"
              type="submit"
              [loading]="authLoading"
              [disabled]="!username || !password"
              styleClass="w-full rounded-xl py-3
                          bg-primary text-white
                          hover:bg-primary-600">
            </p-button>

            <div class="flex justify-between items-center text-xs">
              <button type="button"
                      class="text-primary hover:underline"
                      (click)="forgetPassword()">
                Esqueci minha senha
              </button>

              <button type="button"
                      class="text-surface-500 hover:text-primary"
                      (click)="openDemoModal()">
                Acessar demonstração
              </button>
            </div>

            <p-button
              label="Solicitar assinatura"
              outlined
              styleClass="w-full rounded-xl
                          border-primary text-primary
                          hover:bg-primary/10"
              type="button"
              (click)="openSubscriptionModal()">
            </p-button>

          </form>
        </div>
      </p-card>
    </div>
  </div>

  <p-toast></p-toast>
</section>
