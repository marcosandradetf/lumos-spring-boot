<div class="flex w-full h-full" #top>
  <div class="w-full">
    <div class="pt-2 w-full pl-2 flex items-center justify-between">
      <div class="breadcrumbs text-sm">
        <ul class="select-none">
          <li><a href="/">Início</a></li>
          <li><a>Solicitações ao Estoquista</a></li>
          <li>Gerenciamento de Estoque – Pré-instalação</li>
        </ul>
      </div>
      <h3 class="text-medium pr-5 hidden lg:block">Clique em uma solicitação para continuar</h3>
    </div>

    <app-loading *ngIf="loading"></app-loading>

    <div class="flex flex-col mt-80 items-center justify-center text-center text-gray-500 w-full"
         *ngIf="!loading && reservations.length === 0">
      <svg class="w-20 h-20 mb-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 48 48"
           xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M14 22h20M14 28h20M10 10h28a2 2 0 012 2v24a2 2 0 01-2 2H10a2 2 0 01-2-2V12a2 2 0 012-2z"/>
      </svg>

      <h3 class="text-lg font-semibold mb-2 dark:text-white">Nenhuma solicitação no momento</h3>
    </div>

    <div *ngIf="!loading && reservations.length > 0" class="flex flex-col items-center w-full px-4">
      <p-menu #menu [model]="contextItems" [popup]="true"></p-menu>
      <ol class="flex flex-wrap justify-center gap-4" aria-haspopup="true">
        <li *ngFor="let r of reservations; index as i"
            class="relative w-full max-w-sm cursor-pointer transition-transform duration-300 hover:scale-105 hover:-translate-y-1 m-2"
          >

          <button
            class="absolute top-4 right-4 z-10 text-gray-500 hover:text-gray-800 dark:text-neutral-500 dark:hover:text-neutral-50"
            (click)="openContextMenu($event, r.streets)"
            aria-haspopup="true"
            aria-controls="menu"
            aria-expanded="false"
          >
            <i class="pi pi-ellipsis-v text-xl"></i>
          </button>

          <div class="flex flex-col border border-gray-200 dark:border-gray-700 rounded-2xl shadow-md hover:shadow-lg bg-white dark:bg-gray-900 p-6">
        <span class="self-start px-3 py-1 text-xs font-semibold text-white bg-blue-600 dark:bg-blue-400 rounded-full mb-4">
          INSTALAÇÃO
        </span>

            <h3 class="text-xl leading-[1.15rem] font-light text-left">{{ r.description }}</h3>

            <div class="mt-4 space-y-2 text-sm text-gray-700 dark:text-gray-200">
              <div class="flex items-center">
                <span class="material-icons text-blue-500 text-base mr-1">verified</span>
                Solicitação atribuída por {{ r.streets[0].assignedBy }}
              </div>
            </div>

            <p class="text-base text-left pt-5 text-gray-500 dark:text-gray-400">
              {{ getItemsQuantity(r) }} itens pendentes
            </p>
          </div>
        </li>
      </ol>
    </div>



  </div>
</div>
